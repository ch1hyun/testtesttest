name: 'PR Discord Notification'

on:
  pull_request:
    types: 
      - opened
      - reopend
      - closed
    
jobs:
  notification:
    runs-on: ubuntu-24.04
    
    steps:
      - name: Discord Notification
        env:
          ACTION: ${{ github.event.action }}
          USERNAME: ${{ github.event.pull_request.user.login }}
          TITLE: ${{ github.event.pull_request.title }}
          URL: ${{ github.event.pull_request.html_url }}
        run: |
          curl -X POST -H "Content-Type: application/json" \
          -d '{
              "embeds": [
                {
                  "title": "ğŸ˜µ ì´ ì„¸ê³„ ë²½ ì ˆëŒ€ ì•ˆë†’ì•„ ğŸ˜µ",
                  "description": "**ğŸ”¥ ë¶€ë”ªíˆëŠ”ê±°ì•¼ ğŸ”¥**\nğŸ‘¤ '"$USERNAME"'\nğŸ”Š '"$TITLE"'\nğŸ”— '"$URL"'",
                  "color": "#B5F602"
                }
              ]
            }' ${{ secrets.DISCORD_WEBHOOK_URL }};
